(this["webpackJsonpsafe-notes"]=this["webpackJsonpsafe-notes"]||[]).push([[0],{11:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(12),r=n.n(s),i=n(6),o=n(2),l=(n(11),n(1)),j=n(4),u=n.n(j),d=n(7),f=n(5),b=function(e){var t=e.note;return Object(l.jsxs)("div",{className:"my-2",children:[Object(l.jsxs)(i.b,{to:"/note/".concat(t.id),children:[Object(l.jsx)("p",{className:"my-3",children:t.body.length>100?t.body.slice(0,100)+"...":t.body}),Object(l.jsxs)("p",{className:"text-sm text-gray-300 font-normal",children:[function(e){return new Date(e.updated).toLocaleTimeString()}(t),Object(l.jsx)("strong",{children:" | "}),function(e){return new Date(e.updated).toLocaleDateString()}(t)]})]}),Object(l.jsx)("hr",{style:{color:"white"}})]})},h=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"relative",children:[Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)("i",{className:"fa fa-bars ",style:{fontSize:30}}),Object(l.jsx)("h1",{className:"text-xl ml-2",style:{fontSize:30},children:"Safe Notes"}),Object(l.jsx)("span",{className:"self-end ml-auto",children:n.length})]}),Object(l.jsx)("div",{className:"mt-5 overflow-auto",style:{maxWidth:400,maxHeight:400},children:n.map((function(e,t){return Object(l.jsx)(b,{note:e},e.id)}))}),Object(l.jsx)("div",{className:"addBtn",children:Object(l.jsx)(i.b,{to:"/note/new",children:Object(l.jsx)("i",{className:"fa fa-plus m-4",style:{fontSize:30}})})})]})},x=n(10),p=function(e){var t=Object(o.g)(),n=Object(c.useState)(null),a=Object(f.a)(n,2),s=a[0],r=a[1];Object(c.useEffect)((function(){j()}),[]);var j=function(){var e=Object(d.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"!==t.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/notes/".concat(t.id));case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,r(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/notes/".concat(t.id,"/update"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/notes/new/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/notes/".concat(t.id,"/delete"),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("i",{className:"fa fa-chevron-left",onClick:function(){"new"===t.id||s.body?"new"!=t.id?b():"new"==t.id&&null!==s&&h():p()},style:{fontSize:30}})}),Object(l.jsx)("div",{className:"self-end ml-auto",children:"new"!==t.id?Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("i",{className:"fa fa-close",onClick:p,style:{fontSize:30}})}):Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("i",{className:"fa fa-check",onClick:h,style:{fontSize:30}})})})]}),Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("textarea",{onChange:function(e){r(Object(x.a)(Object(x.a)({},s),{},{body:e.target.value}))},className:"bg-gray-800 overflow-auto resize-none",rows:"15",cols:"47",value:null===s||void 0===s?void 0:s.body})})]})};var O=function(){return Object(l.jsx)(i.a,{children:Object(l.jsx)("div",{className:"bg-black h-screen flex item-center justify-center",children:Object(l.jsx)("div",{className:" my-auto mx-auto bg-gray-800 focus rounded font-bold text-white",style:{Width:450,height:525,minWidth:450,maxWidth:450},children:Object(l.jsx)("div",{className:"m-10",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,element:Object(l.jsx)(h,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/note/:id",element:Object(l.jsx)(p,{})})]})})})})})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.cf0b11d9.chunk.js.map